<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/app.css">
    <script src="https://cdn.jsdelivr.net/npm/three@0.135.0/build/three.min.js" integrity="sha256-vQtw4P6aOmzeRrza0ncPNvHHxAEDLDYA+Bt+nZAWFV4=" crossorigin="anonymous"></script>
    <script src="https://threejs.org/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://threejs.org/examples/js/loaders/MTLLoader.js"></script>
    <script src="./js/curtainbuilder.js"></script>
    <script src="./js/lightbuilder.js"></script>
    <script src="./js/stagebuilder.js"></script>
    <script src="./js/webgl.js"></script>
    <script src="./js/compatibility.js"></script>
    <script src="./js/inputdefault.js"></script>
    <script src="./js/tablebuilder.js"></script>
    <script src="./js/fileloader.js"></script>
    <script src="./js/objloader.js"></script>
    <script src="./js/prerender.js"></script>
    <script defer src="./js/uimanager.js"></script>
    <script defer src="./js/render.js"></script>
    <title>Stagery</title>
</head>
<body>
    <div id="render"></div>
    <div id="options">
        <h1>Configuration</h1>
        <h4>Viewer</h4>
        <input type="checkbox" id="fullbright">
        <label for="fullbright">Night Vision</label>
        
        <h4>Colors</h4>
        <input type="color" id="floor" value="#0000ff">
        <label for="floor">Floor</label>
        <input type="color" id="ceil" value="#00ff00">
        <label for="ceil">Ceiling</label>
        <input type="color" id="side" value="#ff0000">
        <label for="side">Side walls</label>
        <input type="color" id="back" value="#ffff00">
        <label for="back">Back wall</label>
        <input type="color" id="apron" value="#00ffff">
        <label for="apron">Apron</label>
        <input type="color" id="curtains" value="#800000">
        <label for="curtains">Curtains</label>
        
        <h4>Stage</h4>
        <input type="number" id="stgwidth" placeholder="11.6">
        <label for="stgwidth">Width (m)</label>
        <input type="number" id="stgheight" placeholder="9.1">
        <label for="stgheight">Height (m)</label>
        <input type="number" id="stgdepth" placeholder="7.8">
        <label for="stgdepth">Depth (m)</label>
        <input type="number" id="aprextw" placeholder="2">
        <label for="aprexwt">Apron extended width (m)</label>
        <input type="number" id="aprextd" placeholder="3">
        <label for="aprextd">Apron extended depth (m)</label>

        <h4>Lights</h4>
        <input type="color" id="lightcolor" value="#ffffff">
        <label for="lightcolor">Color</label><br>
        <input type="number" id="lightfocus" placeholder="0.2" class="baseconfig">
        <label for="lightfocus">Blur (0-1)</label><br>
        <input type="number" id="lightangle" placeholder="32" class="baseconfig">
        <label for="lightangle">Lens angle</label><br>
        <input type="number" id="lighttargetx" placeholder="0" class="baseconfig">
        <label for="lighttargetx">Target position (x)</label><br>
        <input type="number" id="lighttargety" placeholder="0" class="baseconfig">
        <label for="lighttargety">Target position (y)</label><br>
        <input type="number" id="lighttargetz" placeholder="0" class="baseconfig">
        <label for="lighttargetz">Target position (z)</label><br>
        <button id="loadlightbtn">Load light</button>
        <span id="lightstatus"></span><br><br>
        <table id="lightstable">
            <tr>
                <th></th>
                <th>Light ID</th>
                <th>Color</th>
                <th>Blur</th>
                <th>Lens angle</th>
            </tr>
        </table><br>
        <button id="removelightbtn">Remove selected lights</button>

        <h4>Objects</h4>
        <span class="fileupload">Upload obj file:  </span><input type="file" accept=".obj" id="objuploader"><br>
        <span class="fileupload">Upload mtl file:  </span><input type="file" accept=".mtl" id="mtluploader"><br>
        <button id="loadobjectbtn">Load object</button><br><br>

        <div id="objectcontroller">
            <input type="number" id="objscale" class="baseconfig" placeholder="0.1">
            <label for="objscale">Scale</label><br>
            <button id="objupbtn">▲</button>
            <button id="objdownbtn">▼</button>
            <button id="objleftbtn">◀</button>
            <button id="objrightbtn">▶</button>
            <button id="objbackbtn">Back</button>
            <button id="objforwardbtn">Forward</button>
        </div>

        <br><br><button id="reset">Load</button>
        
    </div>
    <div id="debug"></div>
</body>
</html>